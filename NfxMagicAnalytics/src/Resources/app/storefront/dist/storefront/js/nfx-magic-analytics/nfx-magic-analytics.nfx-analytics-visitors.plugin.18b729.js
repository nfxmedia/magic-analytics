"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[44797],{797:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});class s{static isSupported(){return"undefined"!==document.cookie}static setItem(t,e,r){if(null==t)throw Error("You must specify a key to set a cookie");let s=new Date;s.setTime(s.getTime()+864e5*r);let o="";"https:"===location.protocol&&(o="secure"),document.cookie="".concat(t,"=").concat(e,";expires=").concat(s.toUTCString(),";path=/;sameSite=lax;").concat(o)}static getItem(t){if(!t)return!1;let e=t+"=",r=document.cookie.split(";");for(let t=0;t<r.length;t++){let s=r[t];for(;" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return!1}static removeItem(t){document.cookie="".concat(t,"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT;path=/")}static key(){return""}static clear(){}}class o{setItem(t,e){return this._storage[t]=e}getItem(t){return Object.prototype.hasOwnProperty.call(this._storage,t)?this._storage[t]:null}removeItem(t){return delete this._storage[t]}key(t){return Object.values(this._storage)[t]||null}clear(){return this._storage={}}constructor(){this._storage={}}}class i{_chooseStorage(){return i._isSupported("localStorage")?this._storage=window.localStorage:i._isSupported("sessionStorage")?this._storage=window.sessionStorage:s.isSupported()?this._storage=s:this._storage=new o}static _isSupported(t){try{let e="__storage_test";return window[t].setItem(e,"1"),window[t].removeItem(e),!0}catch(t){return!1}}_validateStorage(){if("function"!=typeof this._storage.setItem)throw Error('The storage must have a "setItem" function');if("function"!=typeof this._storage.getItem)throw Error('The storage must have a "getItem" function');if("function"!=typeof this._storage.removeItem)throw Error('The storage must have a "removeItem" function');if("function"!=typeof this._storage.key)throw Error('The storage must have a "key" function');if("function"!=typeof this._storage.clear)throw Error('The storage must have a "clear" function')}getStorage(){return this._storage}constructor(){this._storage=null,this._chooseStorage(),this._validateStorage()}}let a=Object.freeze(new i).getStorage();class n extends window.PluginBaseClass{init(){this._request=new XMLHttpRequest,this.updateData()}updateData(){var t;let e=navigator.userAgent;if(e&&/bot|googlebot|robot|baidu|crawl|crawler|bingbot|yahoo|yandexbot|msnbot|slurp|spider|mediapartners/i.test(e))return;let r=this.el.getAttribute(this.options.action);if(!r)return;let s=this.el.getAttribute(this.options.referer),o=new Date,i=a.getItem(this.options.visitorStorageKey),n=parseInt((t=this.el.getAttribute(this.options.visitorTime))!==null&&void 0!==t?t:12,10);try{i?i&&(o-new Date(i))/36e5>n&&(r=r.substring(0,r.length-1)+"1",a.setItem(this.options.visitorStorageKey,o.toISOString())):(r=r.substring(0,r.length-1)+"1",a.setItem(this.options.visitorStorageKey,o.toISOString()))}catch(t){return}this._request.open("GET",r),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._request.setRequestHeader("Content-type","application/json"),s&&this._request.setRequestHeader("nfx-referer",s),this._request.send()}}n.options={action:"data-nfx-analytics-visitors",visitorStorageKey:"nfx-sw-visit",visitorTime:"data-nfx-analytics-visitor-time",referer:"data-nfx-analytics-referer"}}}]);