// Theme Loader - ensures themes are properly initialized
// ======================================================

// Auto-apply theme class to body on page load
body:not([class*="theme-"]) {
  // Default to light-apple theme if no theme is set
  &.nfx-analytics {
    @each $key, $value in $theme-light-apple {
      --nfx-#{$key}: #{$value};
    }
  }
}

// Ensure analytics wrapper gets proper styling
.nfx-analytics {
  // Force override any Shopware default styling
  &.sw-page {
    background: var(--nfx-bg-primary) !important;
    color: var(--nfx-text-primary) !important;
  }
  
  // Ensure proper font loading
  font-family: $font-family-base !important;
  
  // Smooth transitions for theme changes
  * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  }
}

// Theme-specific body classes
body.theme-dark-violet {
  .nfx-analytics {
    @each $key, $value in $theme-dark-violet {
      --nfx-#{$key}: #{$value};
    }
  }
}

body.theme-light-apple {
  .nfx-analytics {
    @each $key, $value in $theme-light-apple {
      --nfx-#{$key}: #{$value};
    }
  }
}

body.theme-pastel {
  .nfx-analytics {
    @each $key, $value in $theme-pastel {
      --nfx-#{$key}: #{$value};
    }
  }
}

body.theme-retro-90s {
  .nfx-analytics {
    @each $key, $value in $theme-retro-90s {
      --nfx-#{$key}: #{$value};
    }
  }
}